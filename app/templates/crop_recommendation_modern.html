{% extends 'layout_modern.html' %}

{% block title %}AI Crop Recommendation - Find the Perfect Crop for Your Land{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/crop_recommendation_modern.css') }}">
{% endblock %}

{% block body %}
<!-- Hero Section -->
<section class="page-hero">
    <div class="container">
        <div class="hero-content animate-fade-in-up">
            <h1 class="hero-title">
                <i class="fas fa-seedling"></i>
                AI Crop Recommendation
            </h1>
            <p class="hero-subtitle">
                Get intelligent crop suggestions based on your soil conditions, climate, and farming goals. 
                Our AI analyzes multiple factors to recommend the best crops for maximum yield.
            </p>
        </div>
    </div>
</section>

<!-- Main Content -->
<section class="main-content">
    <div class="container">
        <div class="content-grid">
            <!-- Form Section -->
            <div class="form-section">
                <div class="form-card card">
                    <div class="form-header">
                        <h2 class="form-title">
                            <i class="fas fa-clipboard-list"></i>
                            Enter Your Soil Data
                        </h2>
                        <p class="form-subtitle">
                            Provide accurate information about your soil and environmental conditions 
                            for the most precise recommendations.
                        </p>
                    </div>
                    
                    <form action="{{ url_for('crop_name') }}" method="POST" class="crop-form" id="cropForm">
                        <div class="form-grid">
                            <!-- Nitrogen -->
                            <div class="form-group">
                                <label for="nitrogen" class="form-label">
                                    <i class="fas fa-atom"></i>
                                    Nitrogen (N) - ppm
                                </label>
                                <input type="number" 
                                       id="nitrogen" 
                                       name="nitrogen" 
                                       class="form-input" 
                                       placeholder="Enter nitrogen level"
                                       min="0" 
                                       max="200" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-200 ppm</div>
                            </div>

                            <!-- Phosphorus -->
                            <div class="form-group">
                                <label for="phosphorus" class="form-label">
                                    <i class="fas fa-circle"></i>
                                    Phosphorus (P) - ppm
                                </label>
                                <input type="number" 
                                       id="phosphorus" 
                                       name="phosphorus" 
                                       class="form-input" 
                                       placeholder="Enter phosphorus level"
                                       min="0" 
                                       max="200" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-200 ppm</div>
                            </div>

                            <!-- Potassium -->
                            <div class="form-group">
                                <label for="potassium" class="form-label">
                                    <i class="fas fa-circle"></i>
                                    Potassium (K) - ppm
                                </label>
                                <input type="number" 
                                       id="potassium" 
                                       name="potassium" 
                                       class="form-input" 
                                       placeholder="Enter potassium level"
                                       min="0" 
                                       max="200" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-200 ppm</div>
                            </div>

                            <!-- Temperature -->
                            <div class="form-group">
                                <label for="temperature" class="form-label">
                                    <i class="fas fa-thermometer-half"></i>
                                    Temperature - °C
                                </label>
                                <input type="number" 
                                       id="temperature" 
                                       name="temperature" 
                                       class="form-input" 
                                       placeholder="Enter temperature"
                                       min="-10" 
                                       max="50" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-40°C</div>
                            </div>

                            <!-- Humidity -->
                            <div class="form-group">
                                <label for="humidity" class="form-label">
                                    <i class="fas fa-tint"></i>
                                    Humidity - %
                                </label>
                                <input type="number" 
                                       id="humidity" 
                                       name="humidity" 
                                       class="form-input" 
                                       placeholder="Enter humidity level"
                                       min="0" 
                                       max="100" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-100%</div>
                            </div>

                            <!-- pH Level -->
                            <div class="form-group">
                                <label for="ph" class="form-label">
                                    <i class="fas fa-flask"></i>
                                    pH Level
                                </label>
                                <input type="number" 
                                       id="ph" 
                                       name="ph" 
                                       class="form-input" 
                                       placeholder="Enter pH level"
                                       min="0" 
                                       max="14" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 4.0-9.0</div>
                            </div>

                            <!-- Rainfall -->
                            <div class="form-group">
                                <label for="rainfall" class="form-label">
                                    <i class="fas fa-cloud-rain"></i>
                                    Rainfall - mm
                                </label>
                                <input type="number" 
                                       id="rainfall" 
                                       name="rainfall" 
                                       class="form-input" 
                                       placeholder="Enter rainfall amount"
                                       min="0" 
                                       max="1000" 
                                       step="0.1"
                                       required>
                                <div class="input-hint">Typical range: 0-1000 mm</div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="fas fa-magic"></i>
                                <span>Get AI Recommendation</span>
                            </button>
                            <button type="button" class="btn btn-outline" id="resetForm">
                                <i class="fas fa-undo"></i>
                                <span>Reset Form</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Info Section -->
            <div class="info-section">
                <div class="info-card card">
                    <div class="info-header">
                        <h3 class="info-title">
                            <i class="fas fa-info-circle"></i>
                            How It Works
                        </h3>
                    </div>
                    <div class="info-content">
                        <div class="info-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h4>Enter Soil Data</h4>
                                <p>Provide accurate measurements of your soil's nutrient levels and environmental conditions.</p>
                            </div>
                        </div>
                        <div class="info-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h4>AI Analysis</h4>
                                <p>Our machine learning model analyzes your data against thousands of successful crop records.</p>
                            </div>
                        </div>
                        <div class="info-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h4>Get Recommendations</h4>
                                <p>Receive personalized crop suggestions with detailed insights and confidence levels.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tips-card card">
                    <div class="tips-header">
                        <h3 class="tips-title">
                            <i class="fas fa-lightbulb"></i>
                            Pro Tips
                        </h3>
                    </div>
                    <div class="tips-content">
                        <div class="tip-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Use recent soil test results for best accuracy</span>
                        </div>
                        <div class="tip-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Consider seasonal variations in your data</span>
                        </div>
                        <div class="tip-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Factor in your local climate patterns</span>
                        </div>
                        <div class="tip-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Update data regularly for ongoing recommendations</span>
                        </div>
                    </div>
                </div>

                <div class="stats-card card">
                    <div class="stats-header">
                        <h3 class="stats-title">
                            <i class="fas fa-chart-bar"></i>
                            Our Accuracy
                        </h3>
                    </div>
                    <div class="stats-content">
                        <div class="stat-item">
                            <div class="stat-number">95%</div>
                            <div class="stat-label">Prediction Accuracy</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">2,200+</div>
                            <div class="stat-label">Training Records</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">22</div>
                            <div class="stat-label">Crop Types</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
{# Cache-busting querystring to ensure latest JS is loaded #}
<script src="{{ url_for('static', filename='scripts/crop_recommendation_modern.js') }}?v={{ config['SECRET_KEY'] if config and config.get('SECRET_KEY') else '1' }}"></script>
{% endblock %}

